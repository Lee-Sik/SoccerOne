<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="foot_team">

   <insert id="join"
   parameterType="soccer.co.DTO.foot_team_DTO">
   INSERT INTO foot_team VALUES(#{team_managerid},#{team_name},#{team_intro},1,#{team_location1},
   							#{team_location2},#{team_location3},0,#{team_join},
   							#{team_open},#{team_home},#{team_logo})
   </insert>
   
   <select id="getMyRecord" parameterType="soccer.co.DTO.foot_user_DTO" resultType="soccer.co.DTO.FOOT_USER_RECORD">
   	<![CDATA[
 		select * from 
  	(select * from foot_user_record WHERE user_email=#{user_email} order by game_record_day DESC)
  	 where ROWNUM <= 5
     ]]>
   </select>
   
   
   <select id="getGu" resultType="java.lang.String">
  	 SELECT GUGUN FROM FOOT_POST GROUP BY GUGUN
   </select>
   
     <select id="getAllTeamLeague" resultType="soccer.co.DTO.RANKParam">
  	SELECT * from FOOT_TEAM_LEAGUE ORDER BY team_point DESC,TEAM_WIN DESC,TEAM_LOSE ASC
   </select>
   
   
   <select id="notteamGu" parameterType="java.lang.String" resultType="soccer.co.DTO.foot_team_DTO">
  	 SELECT * FROM foot_team where team_location1=#{add1} or team_location2=#{add1} or team_location3=#{add1} and team_join=1
   </select>
   
   <select id="loginteam" parameterType="soccer.co.DTO.foot_user_DTO" resultType="soccer.co.DTO.foot_team_DTO">
  	 SELECT * FROM foot_team where team_name = #{user_team}
   </select>
   
    <select id="getGameRecord" parameterType="java.lang.String" resultType="soccer.co.DTO.foot_game_record">
  	 <![CDATA[ 
  	 SELECT * FROM foot_game_record where win_team = #{team_name} or lose_team = #{team_name} and ROWNUM < 6
  	 ]]> 
   </select>
   
   <select id="getTeam" parameterType="java.lang.String" resultType="soccer.co.DTO.foot_team_DTO">

  	 SELECT * FROM foot_team where team_name = #{team_name} and team_open =1
  
   </select>
   
   <update id="modifyteam" parameterType="hashmap">
   update foot_team set team_managerid=#{team.team_managerid},team_name=#{team.team_name},team_intro=#{team.team_intro},
   team_location1=#{team.team_location1},team_location2=#{team.team_location2},team_location3=#{team.team_location3},
   team_join=#{team.team_join},team_open=#{team.team_open},team_home=#{team.team_home},
   team_logo=#{team.team_logo} where team_name=#{originteamname}
   </update>
   
   <select id="allteam" resultType="soccer.co.DTO.foot_team_DTO">
  	 SELECT * FROM foot_team
   </select>
   
   <select id="recruitteam" resultType="soccer.co.DTO.foot_team_DTO">
  	 SELECT * FROM foot_team where team_join=1
   </select>
   
   
   
</mapper>